{% extends 'main/base.html'%}
{% load static %}
<link rel="stylesheet" href="{% static 'css/disciplina.css' %}" />
{% block content %}

<div class='disciplina'>{{disciplina.sigla}} - {{disciplina.nome}}</div>

<div class=bloco-avaliacao>
  <div class=bloco-infos1>
    <h3>Descrição</h3>
    <div class='text'>
      {{disciplina.descricao}}
    </div>
    <h3>Programa Resumido</h3>
    <div class='text'>
      {{disciplina.programa_resumido}}
    </div>
    <h3>Créditos</h3>
    <div class='text'>
      Créditos Aula: {{disciplina.cred_aula}}
      <br>
      Créditos Trabalho: {{disciplina.cred_trabalho}}
      <br>
      Créditos Hora Totais: {{disciplina.ch_total}}
    </div>
    <h3>Bibliografia</h3>
    <div class='text'>
      {{disciplina.bibliografia}}
    </div>
  </div>

  <div class=bloco-infos2>
    <form action="{% url 'main:add_review' disciplina.id%}" method="POST">
      {% csrf_token %}

      <h3 class="avalicao_estrelas"> Avaliação Geral da Disciplina</h3>
      <div class="displace">
        <fieldset class="rating">
          <input type="radio" id="star5" name="notageral" value="5" /><label for="star5"><span>&#9733</span></label>
          <input type="radio" id="star4" name="notageral" value="4" /><label for="star4"><span>&#9733</span></label>
          <input type="radio" id="star3" name="notageral" value="3" /><label for="star3"><span>&#9733</span></label>
          <input type="radio" id="star2" name="notageral" value="2" /><label for="star2"><span>&#9733</span></label>
          <input type="radio" id="star1" name="notageral" value="1" /><label for="star1"><span>&#9733</span></label>
        </fieldset>

        <div class="base">
          {%for i in ranges.0%} <span class="preenchida">&#9733</span> {% endfor %}
          {%for i in complementos.0%} <span class="vazia">&#9733</span> {% endfor %}
        </div>
      </div>

      <h3 class="avalicao_estrelas">Nível de Dedicação Requerido</h3>
      <div class=displace>
        <fieldset class="rating crit1">
          <input type="radio" id="star5-crit1" name="notaCrit1" value="5" /><label
            for="star5-crit1"><span>&#9733</span></label>
          <input type="radio" id="star4-crit1" name="notaCrit1" value="4" /><label
            for="star4-crit1"><span>&#9733</span></label>
          <input type="radio" id="star3-crit1" name="notaCrit1" value="3" /><label
            for="star3-crit1"><span>&#9733</span></label>
          <input type="radio" id="star2-crit1" name="notaCrit1" value="2" /><label
            for="star2-crit1"><span>&#9733</span></label>
          <input type="radio" id="star1-crit1" name="notaCrit1" value="1" /><label
            for="star1-crit1"><span>&#9733</span></label>
        </fieldset>

        <div class="base">
          {%for i in ranges.1%} <span class="preenchida">&#9733</span> {% endfor %}
          {%for i in complementos.1%} <span class="vazia">&#9733</span> {% endfor %}
        </div>
      </div>

      <h3 class="avalicao_estrelas">Nível de Dificuldade das Avaliações</h3>
      <div class=displace>
        <fieldset class="rating crit2">
          <input type="radio" id="star5-crit2" name="notaCrit2" value="5" /><label
            for="star5-crit2"><span>&#9733</span></label>
          <input type="radio" id="star4-crit2" name="notaCrit2" value="4" /><label
            for="star4-crit2"><span>&#9733</span></label>
          <input type="radio" id="star3-crit2" name="notaCrit2" value="3" /><label
            for="star3-crit2"><span>&#9733</span></label>
          <input type="radio" id="star2-crit2" name="notaCrit2" value="2" /><label
            for="star2-crit2"><span>&#9733</span></label>
          <input type="radio" id="star1-crit2" name="notaCrit2" value="1" /><label
            for="star1-crit2"><span>&#9733</span></label>
        </fieldset>

        <div class="base">
          {%for i in ranges.2%} <span class="preenchida">&#9733</span> {% endfor %}
          {%for i in complementos.2%} <span class="vazia">&#9733</span> {% endfor %}
        </div>
      </div>


      <h3 class="avalicao_estrelas">Nível de Conhecimento Prévio Requerido</h3>
      <div class=displace>
        <fieldset class="rating crit3">
          <input type="radio" id="star5-crit3" name="notaCrit3" value="5" /><label
            for="star5-crit3"><span>&#9733</span></label>
          <input type="radio" id="star4-crit3" name="notaCrit3" value="4" /><label
            for="star4-crit3"><span>&#9733</span></label>
          <input type="radio" id="star3-crit3" name="notaCrit3" value="3" /><label
            for="star3-crit3"><span>&#9733</span></label>
          <input type="radio" id="star2-crit3" name="notaCrit3" value="2" /><label
            for="star2-crit3"><span>&#9733</span></label>
          <input type="radio" id="star1-crit3" name="notaCrit3" value="1" /><label
            for="star1-crit3"><span>&#9733</span></label>
        </fieldset>

        <div class="base">
          {%for i in ranges.3%} <span class="preenchida">&#9733</span> {% endfor %}
          {%for i in complementos.3%} <span class="vazia">&#9733</span> {% endfor %}
        </div>
      </div>

      <h3 class="avalicao_estrelas">Qualidade do material disponibilizado</h3>

      <div class=displace>
        <fieldset class="rating crit4">
          <input type="radio" id="star5-crit4" name="notaCrit4" value="5" /><label
            for="star5-crit4"><span>&#9733</span></label>
          <input type="radio" id="star4-crit4" name="notaCrit4" value="4" /><label
            for="star4-crit4"><span>&#9733</span></label>
          <input type="radio" id="star3-crit4" name="notaCrit4" value="3" /><label
            for="star3-crit4"><span>&#9733</span></label>
          <input type="radio" id="star2-crit4" name="notaCrit4" value="2" /><label
            for="star2-crit4"><span>&#9733</span></label>
          <input type="radio" id="star1-crit4" name="notaCrit4" value="1" /><label
            for="star1-crit4"><span>&#9733</span></label>
        </fieldset>

        <div class="base">
          {%for i in ranges.4%} <span class="preenchida">&#9733</span> {% endfor %}
          {%for i in complementos.4%} <span class="vazia">&#9733</span> {% endfor %}
        </div>

      </div>

      <input type="submit" value="Avaliar" />

    </form>
  </div>
</div>

<div class=container>
  <form action="{% url 'main:add_comentario' disciplina.id%}" method="POST">
    {% csrf_token %}
    <textarea name="texto" id="texto" cols="30" rows="5" class="form-control"
      placeholder='deixe um comentário'></textarea>
    <br />
    <input type="submit" value="comentar" />
  </form>
</div>

<div class=comments>
  <h2>Comentários</h2>
  {% for comentario in comentarios %}
  <div class=comment>
    <div class=comentarista> {{comentario.user.username}} - </div>
    <div class=comentario>{{ comentario.texto }}</div>

    {% if request.user == comentario.user %}
    <a href="{% url 'main:edit_comment' disciplina.id comentario.id %}" class='edit'>editar</a>
    <a href="{% url 'main:delete_comment' disciplina.id comentario.id %}"
      onclick="return confirm('Deletar comentário?')" class='edit'>excluir</a>
    {% else %}
    {% endif%}

  </div>
  {% endfor %}
</div>

{% endblock %}